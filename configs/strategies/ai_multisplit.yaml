# AI Services Multisplit Strategy (ChatGPT, Claude, Gemini, etc.)
# Использует multi-split для обхода DPI на AI сервисах
id: "zapret_ai_multisplit"
name: "AI Services Multisplit"
description: "Стратегия с multi-split для ChatGPT, Claude, Gemini и других AI сервисов"
family: sni_frag
engine: zapret

mode_capabilities:
  supports_socks: false
  supports_global: true

global_template:
  binary: "binaries/winws.exe"
  args:
    # AI Services TCP 443
    - "--wf-tcp=443"
    - "--filter-tcp=443"
    - "--hostlist=hostlists/ai.txt"
    - "--dpi-desync=multisplit"
    - "--dpi-desync-split-pos=1,3"
    - "--dpi-desync-split-seqovl=1"
    - "--dpi-desync-split-seqovl-pattern=binaries/tls_clienthello_www_google_com.bin"
    - "--dpi-desync-fooling=md5sig,badseq"
    - "--dpi-desync-ttl=5"
    - "--new"
    # AI Services альтернативные порты (Cloudflare)
    - "--filter-tcp=2053,2083,2087,2096,8443"
    - "--hostlist=hostlists/ai.txt"
    - "--dpi-desync=multisplit"
    - "--dpi-desync-split-pos=1,3"
    - "--dpi-desync-fooling=md5sig"
  env: {}
  requires_admin: true

requirements:
  min_rights: "admin"
  os:
    - windows
  binaries:
    - "binaries/winws.exe"
    - "binaries/WinDivert64.sys"
    - "binaries/tls_clienthello_www_google_com.bin"

weight_hint: 10
services:
  - chatgpt

